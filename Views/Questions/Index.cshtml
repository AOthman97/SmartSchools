@{
    ViewData["Title"] = "Home Page";
}

<!doctype html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
  
</head>
<style>
    .input-group-append {
        cursor: pointer;
    }
</style>
<div class="row">
    <div class="col-md-8 offset-md-2">
        <form>
            <row>
                <label>Teacher:</label>
                <select class="form-select" style="width: 50%" aria-label="Default select example">
                    <option selected>-Select-</option>
                    <option value="1">Ahmed Othman</option>
                    <option value="2">Mohammed Karim</option>
                    <option value="3">Ayman Ahmed</option>
                </select>
            </row>
            <row>
                <label>Class:</label>
                <select class="form-select" style="width: 50%" aria-label="Default select example">
                    <option selected>-Select-</option>
                    <option value="1">A1</option>
                    <option value="2">B2</option>
                    <option value="3">C3</option>
                </select>
            </row>
            <row>
                <label>Subject:</label>
                <select class="form-select" style="width: 50%" aria-label="Default select example">
                    <option selected>-Select-</option>
                    <option value="1">Chemistry</option>
                    <option value="2">Computer Science</option>
                    <option value="3">Math</option>
                </select>
            </row>
            <row>
                <label>Title:</label>
                <input type="text" class="form-control" style="width: 50%" />
            </row>
            <row>
                <label>Lesson Type:</label>
                <select class="form-select" style="width: 50%" aria-label="Default select example">
                    <option selected>-Select-</option>
                    <option value="1">Record</option>
                    <option value="2">Live</option>
                </select>
            </row>
            <row>
                <label for="date" class="col-1 col-form-label">Date:</label>
                <div class="col-5">
                    <i class="bi bi-calendar-date input-group-text"></i>
                    <input type="date" id="datepicker2" class="datepicker_input form-control" placeholder="DD/MM/YYYY">
                </div>
            </row>
            <row>
                <label>Remarks:</label>
                <div class="input-group">
                    <span class="input-group-text">Input</span>
                    <textarea class="form-control" aria-label="Input"></textarea>
                </div>
            </row>
            <row>
                <label>Attachments:</label>
                <div class="input-group mb-3">
                    @*<input type="file" class="form-control" id="inputGroupFile02">
                        <label class="input-group-text" for="inputGroupFile02">Upload</label>*@
                    <form id="form2" method="post" enctype="multipart/form-data" data-parsley-validate class="form-horizontal form-label-left">
                        @* <div class="form-group">*@
                        <div class="col-md-12 border border-info" id="dropzone">
                            <div action="/Questions/Upload" class="dropzone" id="uploader">
                                <div class="dz-message needsclick">
                                    <i class="bi bi-file-earmark-arrow-up text-primary fs-3x"></i>
                                    <div class="ms-4">
                                        <h3 class="fs-5 fw-bolder text-gray-900 mb-1">Drop files here or click to upload.</h3>
                                        <span class="fs-7 fw-bold text-gray-400">Upload up to 10 files</span>
                                    </div>
                                </div>

                            </div>
                        </div>
                        @* </div>*@
                    </form>
                </div>
            </row>
            <row>
                <label>Question:</label>
                <input type="text" class="form-control" style="width: 50%" />
            </row>
            <row>
                <label>Answer Type:</label>
                <select class="form-select" style="width: 50%" aria-label="Default select example">
                    <option selected>-Select-</option>
                    <option value="1">Options</option>
                    <option value="2">Checkbox</option>
                    <option value="3">Written</option>
                    <option value="4">Spoken</option>
                    <option value="5">Attachment</option>
                </select>
            </row>
            <row>
                <label>Question:</label>
                <input type="time" step="3600000" class="form-control" style="width: 50%" />
            </row>
            <row>
                <table class="table table-striped table-dark table-bordered border-light pt-2 mt-2">
                    <thead>
                        <tr style="text-align: center;">
                            <th>No</th>
                            <th>Answer</th>
                            <th>Is Correct</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="text-align: center;">1</td>
                            <td></td>
                            <td style="text-align: center;"><input class="form-check-input" type="checkbox"></td>
                        </tr>
                        <tr>
                            <td style="text-align: center;">2</td>
                            <td></td>
                            <td style="text-align: center;"><input class="form-check-input" type="checkbox"></td>
                        </tr>
                        <tr>
                            <td style="text-align: center;">3</td>
                            <td></td>
                            <td style="text-align: center;"><input class="form-check-input" type="checkbox"></td>
                        </tr>
                    </tbody>
                </table>
            </row>
            <row>
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                    Questions & Answers
                </button>

                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Questions & Answers</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <table class="table table-striped table-dark table-bordered border-light pt-2 mt-2">
                                    <thead>
                                        <tr style="text-align: center;">
                                            <th>No</th>
                                            <th>Answer</th>
                                            <th>Is Correct</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="text-align: center;">1</td>
                                            <td></td>
                                            <td style="text-align: center;"><input class="form-check-input" type="checkbox"></td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">2</td>
                                            <td></td>
                                            <td style="text-align: center;"><input class="form-check-input" type="checkbox"></td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: center;">3</td>
                                            <td></td>
                                            <td style="text-align: center;"><input class="form-check-input" type="checkbox"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-primary">Save changes</button>
                            </div>
                        </div>
                    </div>
                </div>
            </row>
        </form>
    </div>
</div>
</html>

<script>
        $(document).ready( function () {
        $('#myTable').DataTable();
    } );

        /* Bootstrap 5 JS included */
        /* vanillajs-datepicker 1.1.4 JS included */
        const getDatePickerTitle = elem => {
          // From the label or the aria-label
          const label = elem.nextElementSibling;
          let titleText = '';
          if (label && label.tagName === 'LABEL') {
            titleText = label.textContent;
          } else {
            titleText = elem.getAttribute('aria-label') || '';
          }
          return titleText;
        }

        const elems = document.querySelectorAll('.datepicker_input');
        for (const elem of elems) {
          const datepicker = new Datepicker(elem, {
            'format': 'dd/mm/yyyy', // UK format
            title: getDatePickerTitle(elem)
          });
        }

        Dropzone.options.uploader = {
            init: function () {
                this.on("addedfile", function (file) {
                    if (confirm("is this the main Video?")) {
                        $.ajax({
                            type: "POST",
                            url: "/Questions/SetIsMain",
                            data: { "IsMain": "yes" },
                            success: function (response) {
                            },
                            failure: function (response) {
                                alert(response.responseText);
                            },
                            error: function (response) {
                                alert(response.responseText);
                            }
                        });
                    } else {
                        $.ajax({
                            type: "POST",
                            url: "/Questions/SetIsMain",
                            data: { "IsMain": "no" },
                            success: function (response) {
                            },
                            failure: function (response) {
                                alert(response.responseText);
                            },
                            error: function (response) {
                                alert(response.responseText);
                            }
                        });
                    }
                });
            }
        };

</script>